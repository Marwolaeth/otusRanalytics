---
title: "hw_1_6"
output: html_document
---

1. Какой значение вернет следующая функция? Запишите ответ с пояснением почему, НЕ исполняя код функции.

```
x <- 42
f1 <- function(x) {
  function() {
    x + 10e4
  }
}
f1(100)()

100100
```
Проверьте себя, запустив данный фрагмент кода, и поясните результат.

*Безымянная функция, прибавляющая 100000 к значению переменной* `x`*, определена внутри функции* `f1`. *В R функция ищет аргументы по их названию прежде всего в окружении своего определения, поэтому безымянная функция получает значение* `x` *из* `f1`.*Вызов* `f1(100)` *возвращает функцию* `x + 10e4` *c предопределенным значением* `x` *равным 100, т. е. просто* `100 + 10e4`.

2. Напишите функцию, принимающую на вход курс доллара и возвращающую другую функцию с одним числовым аргументом для конвертации суммы из рублей в доллары. Курс можно вводить произвольно.

```{r}
set_converter <- function(exchange_rate) {
  return(function(amount) round(amount / exchange_rate, 2))
}

convert_to_USD <- set_converter(65.94)
convert_to_USD(66000)
convert_to_USD <- set_converter(66.0)
convert_to_USD(66000)
```

3. Для проверки алгоритмов довольно часто бывают нужны синтетические данные, распределение которых не соответствует какому-либо простому закону (не является нормальным, равномерным и т.д.). Напишите функцию, генерирующую такие данные в виде числового вектора. В простейшем случае это может быть смесь нормальных распределений: итоговый вектор получается путем объединения результатов нескольких вызовов функции `rnorm()` с разными значениями `mean` и `sd`.
Вам пригодятся функции `Map()` или `purrr:map()`, а также `do.call`.

```{r}
if(!require(purrr)) install.packages('purrr')

set.seed(1111)
x <- purrr::map2(
  c(4, 10, 13, 21),
  c(2, 3, 4, 1),
  ~ rnorm(1000, .x, .y)
) %>%
  do.call(c, args = .)

summary(x)
hist(x, breaks = 15)
```

___

Критерии оценивания:

 * Домашняя работа сдана (1 балл)
 * Решена 1 задача, описание подробное (1 балл)
 * Решена 2 задача (2 балла)
 * Решена 3 задача (3 балла)
 * Код оформлен согласно рекомендациям tidyverse (1 балл)
 * Задание сдано до рекомендуемого дедлайна (1 балл)
 * Задание сдано с 1 попытки (1 балл)
 
Задание считается выполненным, если набирается 6 баллов
