---
title: "hw_1_2"
author: "Andrej Pawluczenko"
date: "07.08.2019"
output: html_document
---

## ДЗ 1.2. Практика по синтаксису и структурам данных


### Работа с векторами

1. Создайте вектор `vec1` из 7 элементов, случайно выбранных (при помощи функции `sample()`) из встроенного в R вектора `letters`. Проверьте тип полученного вектора.
С помощью функции `rnorm()` создайте вектор `vec2`, представляющий собой сэмпл из нормально распределенных данных. Значения параметров `mean` и `sd` задайте сами, размер сэмпла - 5 элементов. Проверьте тип объекта.
Объедините два созданных вектора в один, `vec3`. Проверьте длину и тип полученного объекта. Объясните, почему тип полученного вектора именно такой. 

```{r}
set.seed(111)
(vec1 <- sample(letters, 7))
class(vec1)

set.seed(111)
(vec2 <- rnorm(5, mean = 10, sd = 2))
class(vec2)

(vec3 <- c(vec1, vec2))
class(vec3)
```

*Тип вектора `vec3` — строки, потому что а) вектор может содержать данные только одного типа; б) преобразовать числа в строки проще, чем наоборот (при преобразовании строк в числа получаются NA).*

### Работа с идексами

2. Извлеките из вектора вектора `vec3`: последний элемент; два последних элемента; 3 и 4 элементы; 2, 4 и 1 элементы (именно в таком порядке); все, кроме 4 элемента вектора.

```{r}
vec3[length(vec3)]       # Последний элемент
vec3[length(vec3) - 1:0] # Два последних элемента [подсмотрено в интернете]
vec3[3:4]                # 3 и 4 элементы
vec3[c(2, 4, 1)]         # 2, 4 и 1 элементы
vec3[-4]                 # Все элементы, кроме 4
```

3. Создайте вектор `vec4` от 21 до 31 с шагом 2 (функция `seq()`). Сколько элементов в векторе? Почему не вошло значение 32?

```{r}
(vec4 <- seq(21, 31, by = 2))
length(vec4)
```

*Значение 32 не вошло из-за того, что задано максимальное значение последовательности — 31, кроме того число 32 не могло войти в последовательность даже при ее продолжении, потому что следующим после 31 значением должно быть 33.*

4. С помощью функции sort() отсортируйте вектор `vec4` по убыванию. Сравните с результатом функции `order()`, где также задайте сортировку убыванию. Постарайтесь объяснить, в чем разница.

```{r}
sort(vec4, decreasing = TRUE)  # sort возвращает отсортированный вектор

                               # order возвращает индексы элементов (исходного) вектора
                               # в соответствии с порядком элементов
order(vec4, decreasing = TRUE) # отсортированного вектора
```

5. Объясните результат работы выражения `vec4[order(vec4, decreasing = TRUE)]`.

```{r}
all.equal(sort(vec4, decreasing = TRUE), vec4[order(vec4, decreasing = TRUE)])
```

*Результат выражения такой же, как у `sort(vec4, decreasing = TRUE)`, потому что выражение возвращает элементы вектора `vec4` в том порядке, в каком их возвращает выражение `order(vec4, decreasing = TRUE)`, т. е. в порядке убывания.*

### Модификация элементов по индексу

6. Выполните выражение `vec4[3] <- 99`. Что произошло с вектором `vec4`?

```{r}
vec4[3] <- 99
vec4    # Третий элемент вектора заменен значением 99 / третьему элементу присвоено значение 99
```

7. Посчитайте среднее и медиану по вектору `vec4`.

```{r}
mean(vec4)
median(vec4)
```

### Пропущенные значения

8. Присвойте 2 и 4 элементам вектора `vec4` значение `NA`. Попробуйте посчитать среднее и медиану.

```{r}
vec4[c(2, 4)] <- c(NA, NA)
mean(vec4)   # NA
median(vec4) # NA
```

9. Выполните выражение `is.na(vec4)`. Что делает функция `is.na()`? Вектор какой длины и какого типа она отдает?

```{r}
is.na(vec4)
```

*Функция `is.na()` проводит логический тест для каждого элемента вектора, является ли данный элемент пропущенным значением. В результате получается логический (типа `"logical"`) вектор той же длины, что и исходный.*

10. Замените пропущенные значения в векторе `vec4` на среднее по вектору `vec4`.

```{r}
vec4[is.na(vec4)] <- mean(vec4, na.rm = TRUE) # Функция mean() без учета пропущенных значений
vec4                                          # Среднее значение отличается от такового в задании 7
```